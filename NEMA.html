<!DOCTYPE html>
<!--
Created using JS Bin
http://jsbin.com

Copyright (c) 2019 by vpelss (http://jsbin.com/kaqawil/7/edit)

Released under the MIT license: http://jsbin.mit-license.org
-->
<meta name="robots" content="noindex">
<html>
<head>
<meta name="description" content="NEMA">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
<script src="https://code.jquery.com/jquery-3.1.0.js"></script>
  <title>JS Bin</title>
</head>
<body>
 
  <input id='fileinput' type="file" onchange='fileSelected();' />

  <div id='nEMAText'></div>
  vvqtr
<script>
     
var filet = 'file:///home/adsiltia/Desktop/bridgecommand/bc-master/NEMA.txt';
    
setInterval( getHTML , 5000);  
     
function getHTML() 
    {
    $.get( "http://127.0.0.1:8080", processHTML )
      .fail(function() { $( "#nEMAText" ).html( 'ajax error' ); }); 
    }
  
function processHTML(data)
    {
    $( "#nEMAText" ).html( data );  
    }
     
function fileSelected()
    {
    nEMAFile = document.getElementById('fileinput').files[0];
    var reader = new FileReader();

    // Read file into memory
    reader.readAsText(nEMAFile);  
      
   // Handle progress, success, and errors 
   reader.onprogress = updateProgress;
   reader.onload = loaded;
   reader.onerror = errorHandler;
       
   setInterval( fileSelected , 5000);
   }
    
function updateProgress(evt) {
  if (evt.lengthComputable) {
    // evt.loaded and evt.total are ProgressEvent properties
    var loaded = (evt.loaded / evt.total);
    if (loaded < 1) {
      // Increase the prog bar length
      // style.width = (loaded * 200) + "px";
    }
  }
}

function loaded(evt) {
  // Obtain the read file data
  var fileString = evt.target.result;
  // Handle file dump
   $( "#nEMAText" ).html( fileString );  
  //alert(fileString);
}

function errorHandler(evt) {
  if(evt.target.error.name == "NotReadableError") {
    // The file could not be read
  }
}
        
  </script>
  
</body>
</html>